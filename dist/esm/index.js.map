{"version":3,"file":"index.js","sources":["../../../src/error.ts","../../../src/index.ts"],"sourcesContent":[null,null],"names":["PlugableError","Error","code","constructor","message","contexts","Array","isArray","filter","line","join","super","captureStackTrace","this","i","length","context","key","value","Buffer","isBuffer","toString","JSON","parse","stringify","error","args","plugandplay","chain","parent","plugins","store","api","register","plugin","is_object_literal","hooksNormalized","name","hooks","normalize_hook","require","normalizedPlugin","map","errors","PLUGINS_REGISTER_INVALID_REQUIRE","push","registered","get","sort","normalizedHooks","REQUIRED_PLUGIN","hook","undefined","flat","index","edges","after","reduce","result","PLUGINS_HOOK_AFTER_INVALID","before","PLUGINS_HOOK_BEFORE_INVALID","toposort","array","call","async","handler","arguments","call_sync","is_object"],"mappings":"oFACA,MAAMA,UAAsBC,MACnBC,KAEP,WAAAC,CACED,EACAE,KACGC,GAECC,MAAMC,QAAQH,KAChBA,EAAUA,EACPI,QAAO,SAAUC,GAChB,QAASA,CACX,IACCC,KAAK,MAGVC,MADAP,EAAU,GAAGF,MAASE,KAElBH,MAAMW,mBACRX,MAAMW,kBAAkBC,KAAMb,GAEhCa,KAAKX,KAAOA,EACZ,IAAK,IAAIY,EAAI,EAAGA,EAAIT,EAASU,OAAQD,IAAK,CACxC,MAAME,EAAUX,EAASS,GACzB,IAAK,MAAMG,KAAOD,EAAS,CACzB,GAAY,SAARC,EACF,SAEF,MAAMC,EAAQF,EAAQC,QACR,IAAVC,IAGJL,KAAKI,GACHE,OAAOC,SAASF,GAASA,EAAMG,WACnB,OAAVH,EAAiBA,EACjBI,KAAKC,MAAMD,KAAKE,UAAUN,IAC/B,CACF,CACF,EAGH,IAAAO,EAAe,YAAcC,GAC3B,OAAO,IAAI1B,KAAiB0B,EAC7B,ECyJD,MAAMC,EAAc,UAGlBD,KACAA,EAAO,GAAEE,MACTA,EAAKC,OACLA,EAAMC,QACNA,EAAU,IAMR,IAEF,MAAMC,EAA+B,GAE/BC,EAAqB,CAEzBC,SAAU,SAAUC,GAClB,GAAsB,mBAAXA,IAA0BC,EAAkBD,GACrD,MAAMT,EAAM,oCAAqC,CAC/C,+EACA,oDACA,OAAOH,KAAKE,UAAUU,gBAI1BA,EAA2B,mBAAXA,EAAwBA,KAAUR,GAAQQ,EAE1D,MAAME,EAAkB,CAAA,EACxB,IAAK,MAAMC,KAAQH,EAAOI,MACnBJ,EAAOI,MAAMD,KAClBD,EAAgBC,GAAQE,EAAeF,EAAMH,EAAOI,MAAMD,KAGxDH,EAAOM,UAAYlC,MAAMC,QAAQ2B,EAAOM,WAC1CN,EAAOM,QAAU,CAACN,EAAOM,UAE3B,MAaMC,EAAwC,CAC5CH,MAAOF,EACPI,SAdCN,EAAOM,QACLlC,MAAMC,QAAQ2B,EAAOM,SACtBN,EAAOM,QAD0B,CAACN,EAAOM,SADzB,IAGwBE,KAAKF,IAC/C,GAAuB,iBAAZA,EACT,MAAMG,EAAOC,iCAAiC,CAC5CP,KAAMH,EAAOG,KACbG,QAASA,IAEb,OAAOA,CAAO,IAMdH,KAAMH,EAAOG,MAGf,OADAN,EAAMc,KAAKJ,GACHb,GAASf,IAClB,EACDiC,WAAY,SAAUT,GACpB,IAAK,MAAMH,KAAUH,EACnB,GAAIG,EAAOG,OAASA,EAClB,OAAO,EAGX,QAAc,MAAVR,IAAkBA,EAAOiB,WAAWT,GAIzC,EACDU,IAAK,UAAUV,KAAEA,EAAIC,MAAEA,EAAQ,GAAEU,KAAEA,GAAO,IACxC,MAAMC,EAAkB,IAEnBV,EAAeF,EAAMC,MAErBP,EACAW,KAAI,SAAUR,GAEb,GAAKA,EAAOI,MAAMD,GAAlB,CAEA,IAAK,MAAMG,KAAWN,EAAOM,QAC3B,IAAKR,EAAIc,WAAWN,GAClB,MAAMG,EAAOO,gBAAgB,CAC3BhB,OAAQA,EAAOG,KACfG,QAASA,IAIf,OAAON,EAAOI,MAAMD,IAAOK,KACxBS,IACE,CACCjB,OAAQA,EAAOG,KACfG,QAASN,EAAOM,WACbW,KAfuB,CAkBlC,IACC3C,QAAO,SAAU2C,GAChB,YAAgBC,IAATD,CACT,IACCE,KAAK,MACJxB,EAASA,EAAOkB,IAAI,CAAEV,KAAMA,EAAMW,MAAM,IAAW,IAEzD,IAAKA,EACH,OAAOC,EAOT,MAAMK,EAAwD,CAAA,EAC9D,IAAK,MAAMH,KAAQF,EACbE,EAAKjB,SAAQoB,EAAMH,EAAKjB,QAAUiB,GAMxC,MA4BMI,EAAQ,IA5BMN,EAAgBP,KAAI,SAAUS,GAChD,OAAOA,EAAKK,MAAMC,QAAa,SAAUC,EAAQF,GAC/C,GAAIF,EAAME,GACRE,EAAOb,KAAK,CAACS,EAAME,GAAQL,SACtB,GAAInB,EAAIc,WAAWU,GACxB,MAAMb,EAAOgB,2BAA2B,CACtCtB,KAAMA,EACNH,OAAQiB,EAAKjB,OACbsB,MAAOA,IAGX,OAAOE,CACR,GAAE,GACL,OACqBT,EAAgBP,KAAI,SAAUS,GACjD,OAAOA,EAAKS,OAAOH,QAAa,SAAUC,EAAQE,GAChD,GAAIN,EAAMM,GACRF,EAAOb,KAAK,CAACM,EAAMG,EAAMM,UACpB,GAAI5B,EAAIc,WAAWc,GACxB,MAAMjB,EAAOkB,4BAA4B,CACvCxB,KAAMA,EACNH,OAAQiB,EAAKjB,OACb0B,OAAQA,IAGZ,OAAOF,CACR,GAAE,GACL,KACgDL,KAAK,GACrD,OAAOS,EAASC,MAAMd,EAAiBM,EACxC,EAEDS,KAAMC,gBAAgBvC,KAAEA,EAAIwC,QAAEA,EAAO5B,MAAEA,EAAQ,GAAED,KAAEA,IACjD,GAAyB,IAArB8B,UAAUpD,OACZ,MAAMU,EAAM,mCAAoC,CAC9C,4CACA,OAAO0C,UAAUpD,sBAEd,IAAKoB,EAAkBgC,UAAU,IACtC,MAAM1C,EAAM,sCAAuC,CACjD,yDACA,6DACA,OAAOH,KAAKE,UAAU2C,UAAU,mBAE7B,GAAoB,iBAAT9B,EAChB,MAAMZ,EAAM,gCAAiC,CAC3C,oEACA,OAAOH,KAAKE,UAAU2C,UAAU,kBAIpC,MAAM/B,EAAkBvB,KAAKkC,IAAI,CAC/BT,MAAOA,EACPD,KAAMA,IAGR6B,EAAUA,SAAoB,GAC9B,IAAK,MAAMf,KAAQf,EACjB,OAAQe,EAAKe,QAAQnD,QACnB,KAAK,EACL,KAAK,QACGoC,EAAKe,QAAQxC,GAAM,SACzB,MACF,KAAK,EACH,MAAMgC,QAAeP,EAAKe,QAAQxC,EAAMwC,GACxC,GAAe,OAAXR,EACF,OAAO,KAQPQ,EAAUR,EAEZ,MACF,QACE,MAAMjC,EAAM,+BAAgC,CAC1C,2CACA,OAAO0B,EAAKe,QAAQnD,WAK5B,OAAOmD,EAAUA,EAAQxC,GAAM,cAAY0B,CAC5C,EAEDgB,UAAW,UAAU1C,KAAEA,EAAIwC,QAAEA,EAAO5B,MAAEA,EAAQ,GAAED,KAAEA,IAChD,GAAyB,IAArB8B,UAAUpD,OACZ,MAAMU,EAAM,mCAAoC,CAC9C,4CACA,OAAO0C,UAAUpD,sBAEd,IAAKoB,EAAkBgC,UAAU,IACtC,MAAM1C,EAAM,sCAAuC,CACjD,yDACA,6DACA,OAAOH,KAAKE,UAAU2C,UAAU,mBAE7B,GAAoB,iBAAT9B,EAChB,MAAMZ,EAAM,gCAAiC,CAC3C,oEACA,OAAOH,KAAKE,UAAU2C,UAAU,kBAIpC,MAAM/B,EAAkBvB,KAAKkC,IAAI,CAC/BT,MAAOA,EACPD,KAAMA,IAGR6B,EAAUA,SAAoB,GAC9B,IAAK,MAAMf,KAAQf,EACjB,OAAQe,EAAKe,QAAQnD,QACnB,KAAK,EACL,KAAK,EACHoC,EAAKe,QAAQxC,GAAM,SACnB,MACF,KAAK,EACH,MAAMgC,EAASP,EAAKe,QAAQxC,EAAMwC,GAClC,GAAe,OAAXR,EACF,OAAO,KAQPQ,EAAUR,EAEZ,MACF,QACE,MAAMjC,EAAM,+BAAgC,CAC1C,2CACA,OAAO0B,EAAKe,QAAQnD,WAK5B,OAAOmD,EAAUA,EAAQxC,GAAM,cAAY0B,CAC5C,GAGH,IAAK,MAAMlB,KAAUJ,EACnBE,EAAIC,SAASC,GAGf,OAAOF,CACT,EAYMO,EAAiB,SACrBF,EACAc,GAGA,OADc7C,MAAMC,QAAQ4C,GAAQA,EAAO,CAACA,IAC/BT,KAAI,SAAUS,GACzB,GAAoB,mBAATA,IAAwBkB,EAAUlB,GAC3C,MAAM1B,EAAM,+BAAgC,CAC1C,2CACA,uCACA,4CACA,OAAOH,KAAKE,UAAU2B,gBAG1B,MAAO,CACLK,MACoB,mBAATL,GAAuBA,EAAKK,MACb,iBAAfL,EAAKK,MAAqB,CAACL,EAAKK,OACvCL,EAAKK,MAFuC,GAGhDnB,KAAMA,EACNuB,OACoB,mBAATT,GAAuBA,EAAKS,OACZ,iBAAhBT,EAAKS,OAAsB,CAACT,EAAKS,QACxCT,EAAKS,OAFwC,GAGjDM,QAAyB,mBAATf,EAAsBA,EAAOA,EAAKe,QAEtD,GACF,EAEMvB,EAAS,CACbgB,2BAA4B,UAAUtB,KACpCA,EAAIH,OACJA,EAAMsB,MACNA,IAMA,MAAM/B,EAAM,6BAA8B,CACxC,YAAYH,KAAKE,UAAUa,KAC3BH,EAAS,aAAaZ,KAAKE,UAAUU,KAAY,GACjD,iCACA,aAAaZ,KAAKE,UAAUgC,6BAE/B,EACDK,4BAA6B,UAAUxB,KACrCA,EAAIH,OACJA,EAAM0B,OACNA,IAMA,MAAMnC,EAAM,8BAA+B,CACzC,YAAYH,KAAKE,UAAUa,KAC3BH,EAAS,aAAaZ,KAAKE,UAAUU,KAAY,GACjD,iCACA,aAAaZ,KAAKE,UAAUoC,6BAE/B,EACDV,gBAAiB,UAAUhB,OACzBA,EAAMM,QACNA,IAKA,MAAMf,EAAM,kBAAmB,CAC7B,cAAcH,KAAKE,UAAUU,KAC7B,oBACA,SAASZ,KAAKE,UAAUgB,iCAE3B,EACDI,iCAAkC,UAAUP,KAC1CA,EAAIG,QACJA,IAKA,MAAMf,EAAM,mCAAoC,CAC9C,yBACAY,EAAO,aAAaf,KAAKE,UAAUa,KAAU,GAC7C,gCACA,OAAOf,KAAKE,UAAUgB,OAEzB"}