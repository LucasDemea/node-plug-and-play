{"version":3,"file":"index.cjs","sources":["../../../src/error.ts","../../../src/index.ts"],"sourcesContent":[null,null],"names":["PlugableError","Error","code","constructor","message","contexts","Array","isArray","filter","line","join","super","captureStackTrace","this","i","length","context","key","value","Buffer","isBuffer","toString","JSON","parse","stringify","error","args","normalize_hook","name","hook","map","is_object","after","before","handler","errors","PLUGINS_HOOK_AFTER_INVALID","plugin","PLUGINS_HOOK_BEFORE_INVALID","REQUIRED_PLUGIN","require","PLUGINS_REGISTER_INVALID_REQUIRE","chain","parent","plugins","store","api","register","is_object_literal","hooksNormalized","hooks","normalizedPlugin","push","registered","get","sort","normalizedHooks","undefined","flat","index","edges","reduce","result","toposort","array","call","async","arguments","call_sync"],"mappings":"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"}